(this.webpackJsonpMyProject=this.webpackJsonpMyProject||[]).push([[0],{30:function(e,t,a){e.exports=a(64)},38:function(e,t,a){},39:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l);a(35),a(36),a(38),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(2),o=a(3),s=a(4),m=a(5),d=a(7),u=a(6),p=a(8),h=(a(39),r.a.createContext({username:""})),g=a(1),E=a.n(g),b=a(12),f=r.a.createContext(null),v=function(){var e=Object(n.useContext)(h),t=Object(n.useContext)(f),a=Object(n.useState)(localStorage.getItem("username")),l=Object(b.a)(a,2),c=l[0],i=l[1];e.username=c;return r.a.createElement("li",{className:"ml-3 nav-item"},r.a.createElement("div",{className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Username",onChange:function(a){a.preventDefault(),i(a.target.value),e.username=a.target.value,localStorage.setItem("username",a.target.value),t.updateMe(),t.updateCartList()},value:c})))},C=function(){var e=Object(n.useState)(0),t=Object(b.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(f),i=Object(n.useContext)(h),s=function(){var e=i.username;if(e.length>0&&null!==e){var t="http://localhost:8081/shop/api/cart/"+e;E.a.get(t).then((function(e){l(e.data.length)})).catch((function(e){console.log(e)}))}else 0!==a&&l(0)};return c.updateMe=s,s(),r.a.createElement(o.b,{className:"navbar-brand cart-bg px-2",to:"/cart"},r.a.createElement("i",{className:"fas fa-shopping-basket mr-2"}),a," Items")},y=function(e){var t=Object(n.useContext)(h);if(t.username.length>0){var a="http://localhost:8081/shop/api/cart/"+t.username;E.a.get(a).then((function(e){console.log("Cart size: "+e.data.length)})).catch((function(e){console.log(e)}))}return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-md navbar-fixed-top"},r.a.createElement(o.b,{to:"/",className:"navbar-brand"},r.a.createElement("i",{className:"fas fa-dragon"}),"_shop"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(o.b,{className:"nav-link",to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item active"},r.a.createElement(o.b,{className:"nav-link",to:"/merch"},"Merchandise ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(o.b,{to:"#",className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Admin"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(o.b,{to:"/admin/add",className:"dropdown-item"},"Add New Product"),r.a.createElement(o.b,{to:"/admin/list",className:"dropdown-item"},"Products List"))),r.a.createElement(v,null)),r.a.createElement(C,{usernameChangeHandler:e.usernameChangeHandler})))},N=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"fill-window"},r.a.createElement(f.Provider,{value:{updateMe:function(){},updateCartList:function(){}}},r.a.createElement(h.Provider,{value:{username:""}},r.a.createElement(y,null),r.a.createElement("div",{className:"container mt-3 p-3"},this.props.children))))}}]),t}(n.Component),H=function(){return r.a.createElement("div",{className:"jumbotron inverse"},r.a.createElement("h1",{className:"display-4"},"Hello, world!"),r.a.createElement("p",{className:"lead"},"This is a simple shop done by Pranas Varaneckas."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,"This shop is made using react, bootstrap and axios at the moment."))},q=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(H,null))},j=function(e){var t="btn btn-light";return e.buttonIsDisabled&&(t+=" disabled"),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"card text-white bg-secondary border-dark"},r.a.createElement("img",{src:e.image,className:"card-img-top",alt:"Unable to load"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title text-white"},e.title),r.a.createElement("h6",{className:"card-title"},"Price: ",e.price),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-white"},"Items In Stock: ",e.quantity)),r.a.createElement(o.b,{to:"/merch/"+e.id,className:t},"DETAILS"))))},O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={products:[]},E.a.get("http://localhost:8081/shop/api/products").then((function(t){e.setState({products:t.data})})).catch((function(e){console.log(e)})),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.products.map((function(e,t){return r.a.createElement("div",{key:t,className:"col-12 col-md-6 col-lg-4 mb-4"},r.a.createElement(j,{id:e.id,image:e.imageUrl,title:e.title,description:e.description,price:e.price,quantity:e.quantity}))}));return r.a.createElement("div",{className:"row"},e)}}]),t}(n.Component),x=function(e){var t=Object(n.useContext)(f),a="http://localhost:8081/shop/api/cart/"+Object(n.useContext)(h).username;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("img",{src:e.image,className:"card-img-top",alt:"Unable to load"})),r.a.createElement("div",{className:"col-4 col-md-2"},r.a.createElement("h5",{className:"card-title text-right"},"Title:"),r.a.createElement("p",{className:"card-text text-right"},"About:"),r.a.createElement("p",{className:"card-title text-right"},"Price:"),r.a.createElement("p",{className:"card-text text-right"},r.a.createElement("small",null,"Items In Stock:"))),r.a.createElement("div",{className:"col-8 col-md-4"},r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.description),r.a.createElement("p",{className:"card-title"},e.price),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",null,e.quantity)),r.a.createElement("div",{className:"row"},r.a.createElement("button",{onClick:function(){console.log("ProductInfoPresentation.addToCart"),E.a.post(a,{id:Number(e.id),image:e.image,title:e.title}).then((function(){t.updateMe()})).catch((function(e){return console.log(e)}))},className:"btn btn-light m-3"},"ADD TO CART"),r.a.createElement(o.b,{to:"/merch/",className:"btn btn-light m-3"},"BACK")))))},w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={id:"",title:"",image:"",description:"",price:"",quantity:""},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="http://localhost:8081/shop/api/products/"+this.props.match.params.id;E.a.get(t).then((function(t){e.setState(t.data)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{id:this.state.id,title:this.state.title,image:this.state.image,description:this.state.description,price:this.state.price,quantity:this.state.quantity}))}}]),t}(n.Component),k=function(e){return r.a.createElement("form",{onSubmit:e.submitHandler},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{onChange:e.titleChangedHandler,type:"text",className:"form-control",id:"title",name:"title",value:e.title,required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{onChange:e.priceChangedHandler,type:"number",step:"0.01",className:"form-control",id:"price",name:"price",value:e.price,required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"quantity"},"Quantity"),r.a.createElement("input",{onChange:e.quantityChangedHandler,type:"number",className:"form-control",id:"quantity",name:"quantity",value:e.quantity,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"image"},"Image URL"),r.a.createElement("input",{onChange:e.imageChangedHandler,type:"url",className:"form-control",id:"image",name:"image",value:e.image,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{onChange:e.descriptionChangedHandler,rows:"3",className:"form-control",id:"description",name:"description",value:e.description,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-light"},"SUBMIT"))},S=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},r.a.createElement(k,{imageChangedHandler:e.imageChangedHandler,titleChangedHandler:e.titleChangedHandler,descriptionChangedHandler:e.descriptionChangedHandler,priceChangedHandler:e.priceChangedHandler,quantityChangedHandler:e.quantityChangedHandler,submitHandler:e.submitHandler})),r.a.createElement("div",{className:"col-12 col-md-4 col-lg-3"},r.a.createElement("label",{style:{fontSize:"1.1em"}},"Item Card Example"),r.a.createElement(j,{buttonIsDisabled:"true",id:"example",image:e.image,title:e.title,price:e.price,quantity:e.quantity})))},D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).imageChangedHandler=function(t){t.preventDefault(),e.setState({image:t.target.value})},e.titleChangedHandler=function(t){t.preventDefault(),e.setState({title:t.target.value})},e.descriptionChangedHandler=function(t){t.preventDefault(),e.setState({description:t.target.value})},e.priceChangedHandler=function(t){t.preventDefault(),e.setState({price:t.target.value})},e.quantityChangedHandler=function(t){t.preventDefault(),e.setState({quantity:t.target.value})},e.submitHandler=function(t){t.preventDefault(),E.a.post("http://localhost:8081/shop/api/products",{description:e.state.description,imageUrl:e.state.image,price:e.state.price,quantity:e.state.quantity,title:e.state.title}).then((function(){e.props.history.push("/admin/list")})).catch((function(e){console.log(e)}))},e.state={image:"",title:"",description:"",price:"",quantity:""},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,{submitHandler:this.submitHandler,imageChangedHandler:this.imageChangedHandler,titleChangedHandler:this.titleChangedHandler,descriptionChangedHandler:this.descriptionChangedHandler,priceChangedHandler:this.priceChangedHandler,quantityChangedHandler:this.quantityChangedHandler,title:this.state.title,image:this.state.image,price:this.state.price,quantity:this.state.quantity}))}}]),t}(n.Component),I=function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,r.a.createElement("img",{src:e.image,style:{height:"5em"},alt:"Unable to load"})),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/edit/"+e.id,className:"btn btn-light"},"Edit")))},P=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={items:[]},E.a.get("http://localhost:8081/shop/api/products").then((function(t){e.setState({items:t.data})})).catch((function(e){console.log(e)})),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.items.map((function(e,t){return r.a.createElement(I,{key:t,id:e.id,image:e.imageUrl,title:e.title,price:e.price,quantity:e.quantity})}));return r.a.createElement("div",null,r.a.createElement("table",{className:" text-center table table-striped table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Quantity"))),r.a.createElement("tbody",null,e)))}}]),t}(n.Component),U=function(e){var t=Object(n.useContext)(f);return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,r.a.createElement("img",{src:e.image,style:{height:"5em"},alt:"Unable to load"})),r.a.createElement("td",null,e.title),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){E.a.delete("http://localhost:8081/shop/api/cart/"+e.username+"/"+e.id).then((function(){e.refreshComponents(),t.updateMe()})).catch((function(e){console.log(e)}))},className:"btn btn-danger"},"Remove From Cart")))},M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={products:[]},a.products=[],a.refreshComponents=function(){a.props.username.length>0&&null!=a.props.username?E.a.get("http://localhost:8081/shop/api/cart/"+a.props.username).then((function(e){e.data.length!==a.state.products.length&&a.setState({products:e.data})})).catch((function(e){console.log(e)})):a.state.products.length>0&&a.setState({products:[]})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.refreshComponents()}},{key:"componentDidUpdate",value:function(){this.refreshComponents()}},{key:"render",value:function(){var e=this;if(this.state.products.length>0)var t=this.state.products.map((function(t,a){return r.a.createElement(U,{key:a,id:t.id,image:t.image,title:t.title,username:e.props.username,refreshComponents:e.refreshComponents})}));return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:" text-center table table-striped table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,t)))}}]),t}(n.Component),T=function(){var e=Object(n.useContext)(h),t=Object(n.useContext)(f),a=Object(n.useState)(e.username),l=Object(b.a)(a,2),c=l[0],i=l[1];return t.updateCartList=function(){i(e.username)},r.a.createElement("div",null,r.a.createElement(M,{username:c}))},F=function(e){return r.a.createElement("form",{onSubmit:e.submitHandler},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{onChange:e.titleChangedHandler,type:"text",className:"form-control",id:"title",name:"title",value:e.title,required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{onChange:e.priceChangedHandler,type:"number",step:"0.01",className:"form-control",id:"price",name:"price",value:e.price,required:!0})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"quantity"},"Quantity"),r.a.createElement("input",{onChange:e.quantityChangedHandler,type:"number",className:"form-control",id:"quantity",name:"quantity",value:e.quantity,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"image"},"Image URL"),r.a.createElement("input",{onChange:e.imageChangedHandler,type:"url",className:"form-control",id:"image",name:"image",value:e.image,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{onChange:e.descriptionChangedHandler,rows:"3",className:"form-control",id:"description",name:"description",value:e.description,required:!0})),r.a.createElement("button",{type:"submit",className:"btn btn-light"},"SUBMIT"))},A=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-8 col-lg-9"},r.a.createElement(F,{imageChangedHandler:e.imageChangedHandler,titleChangedHandler:e.titleChangedHandler,descriptionChangedHandler:e.descriptionChangedHandler,priceChangedHandler:e.priceChangedHandler,quantityChangedHandler:e.quantityChangedHandler,idChangedHandler:e.idChangedHandler,submitHandler:e.submitHandler,title:e.title,price:e.price,quantity:e.quantity,image:e.image,description:e.description,id:e.id})),r.a.createElement("div",{className:"col-12 col-md-4 col-lg-3"},r.a.createElement("label",{style:{fontSize:"1.1em"}},"Item Card Example"),r.a.createElement(j,{buttonIsDisabled:"true",id:"example",image:e.image,title:e.title,price:e.price,quantity:e.quantity})))},L=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).getProduct=function(){E.a.get("http://localhost:8081/shop/api/products/"+e.props.match.params.id).then((function(t){e.setState(t.data)})).catch((function(e){return console.log(e)}))},e.imageChangedHandler=function(t){t.preventDefault(),e.setState({imageUrl:t.target.value})},e.titleChangedHandler=function(t){t.preventDefault(),e.setState({title:t.target.value})},e.descriptionChangedHandler=function(t){t.preventDefault(),e.setState({description:t.target.value})},e.priceChangedHandler=function(t){t.preventDefault(),e.setState({price:t.target.value})},e.quantityChangedHandler=function(t){t.preventDefault(),e.setState({quantity:t.target.value})},e.idChangedHandler=function(t){t.preventDefault(),e.setState({id:t.target.value})},e.submitHandler=function(t){t.preventDefault(),E.a.put("http://localhost:8081/shop/api/products/"+e.props.match.params.id,{description:e.state.description,imageUrl:e.state.imageUrl,price:e.state.price,quantity:e.state.quantity,title:e.state.title}).then((function(){e.props.history.push("/admin/list")})).catch((function(e){console.log(e)}))},e.state={imageUrl:"",title:"",description:"",price:"",quantity:"",id:-1},e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getProduct()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,{submitHandler:this.submitHandler,imageChangedHandler:this.imageChangedHandler,titleChangedHandler:this.titleChangedHandler,descriptionChangedHandler:this.descriptionChangedHandler,priceChangedHandler:this.priceChangedHandler,quantityChangedHandler:this.quantityChangedHandler,idChangedHandler:this.idChangedHandler,title:this.state.title,image:this.state.imageUrl,price:this.state.price,quantity:this.state.quantity,description:this.state.description,id:this.state.id}))}}]),t}(n.Component),B=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"text-center"},"Page does not exist"))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(h.Provider,null,r.a.createElement(N,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:q}),r.a.createElement(i.a,{exact:!0,path:"/merch",component:O}),r.a.createElement(i.a,{path:"/merch/:id",component:w}),r.a.createElement(i.a,{exact:!0,path:"/admin/add",component:D}),r.a.createElement(i.a,{exact:!0,path:"/admin/list",component:P}),r.a.createElement(i.a,{exact:!0,path:"/cart",component:T}),r.a.createElement(i.a,{path:"/edit/:id",component:L}),r.a.createElement(i.a,{path:"*",component:B}),r.a.createElement(i.a,{component:B}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.2942ddee.chunk.js.map